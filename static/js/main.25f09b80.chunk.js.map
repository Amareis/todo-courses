{"version":3,"sources":["Table/Todo/index.jsx","Table/Header.jsx","Table/Footer.jsx","Table/index.jsx","App/index.jsx","index.js","Table/styles.module.css","App/styles.module.css","Table/Todo/styles.module.css"],"names":["Todo","text","done","onDelete","onDone","onUndone","onEdit","useState","editing","setEditing","newText","setNewText","className","cn","S","root","onClick","onDoubleClick","value","onChange","e","target","onBlur","autoFocus","onKeyDown","key","Header","onMarkAll","onNewTodo","React","newTodo","setNewTodo","Footer","onFilter","itemsLeft","onDeleteAll","footer","getLocal","obj","t","localStorage","getItem","JSON","parse","Table","state","todos","filter","markAll","isAllDone","undone","length","forceUpdate","setTodos","setState","setItem","stringify","id","Math","random","setFilter","deleteDone","this","map","todo","Component","App","app","rootElement","document","getElementById","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.25f09b80.chunk.js","sourcesContent":["import S from './styles.module.css'\nimport cn from 'classnames'\nimport {useState} from 'react'\n\nexport default function Todo({\n  text,\n  done,\n  onDelete,\n  onDone,\n  onUndone,\n  onEdit,\n}) {\n  const [editing, setEditing] = useState(false)\n  const [newText, setNewText] = useState('')\n  return (\n    <div className={cn(S.root, [done && S.done])}>\n      {!editing && (\n        <>\n          <button onClick={done ? onUndone : onDone}>\n            v\n          </button>\n          <span\n            onDoubleClick={() => {\n              setEditing(true)\n              setNewText(text)\n            }}>\n            {text}\n          </span>\n          <button onClick={onDelete}>X</button>\n        </>\n      )}\n      {editing && (\n        <input\n          value={newText}\n          onChange={(e) => setNewText(e.target.value)}\n          onBlur={() => setEditing(false)}\n          autoFocus\n          onKeyDown={(e) => {\n            if (e.key !== 'Enter') return\n            if (!newText) onDelete()\n            else onEdit(newText)\n            setEditing(false)\n          }}\n        />\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport function Header({onMarkAll, onNewTodo}) {\n  const [newTodo, setNewTodo] = React.useState('')\n\n  return (\n    <div>\n      {onMarkAll && <button onClick={onMarkAll}>v</button>}\n      <input\n        value={newTodo}\n        onChange={(e) => setNewTodo(e.target.value)}\n        onKeyDown={(e) => {\n          if (e.key !== 'Enter' || !newTodo) return\n          onNewTodo(newTodo)\n          setNewTodo('')\n        }}\n      />\n    </div>\n  )\n}\n","import S from './styles.module.css'\n\nexport function Footer({onFilter, itemsLeft, onDeleteAll}) {\n  return (\n    <div className={S.footer}>\n      {itemsLeft} items left\n      <button onClick={() => onFilter(null)}>All</button>\n      <button onClick={() => onFilter(true)}>Active</button>\n      <button onClick={() => onFilter(false)}>\n        Completed\n      </button>\n      {onDeleteAll && (\n        <button onClick={onDeleteAll}>\n          Delete all done\n        </button>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport S from './styles.module.css'\nimport Todo from './Todo'\nimport {Header} from './Header'\nimport {Footer} from './Footer'\n\nfunction getLocal(key, obj) {\n  const t = localStorage.getItem(key)\n  if (!t) return obj\n  try {\n    return JSON.parse(t)\n  } catch (e) {\n    return obj\n  }\n}\n\nconst key = 'todos'\n\nexport default class Table extends React.Component {\n  state = {\n    todos: getLocal(key, []),\n    filter: null,\n  }\n\n  get undone() {\n    return this.state.todos.filter((t) => !t.done)\n  }\n\n  markAll = () => {\n    const isAllDone = this.undone.length === 0\n    for (const t of this.state.todos) {\n      t.done = !isAllDone\n    }\n    this.forceUpdate()\n  }\n\n  setTodos = (todos) => {\n    this.setState({todos})\n    localStorage.setItem(key, JSON.stringify(todos))\n  }\n\n  newTodo = (newTodo) => {\n    this.setTodos([\n      ...this.state.todos,\n      {\n        id: Math.random(),\n        text: newTodo,\n        done: false,\n      },\n    ])\n  }\n\n  setFilter = (filter) => this.setState({filter})\n\n  deleteDone = () => this.setTodos(this.undone)\n\n  render() {\n    const {todos, filter} = this.state\n\n    const undone = this.undone\n\n    return (\n      <div className={S.root}>\n        <Header\n          onMarkAll={!todos.length ? null : this.markAll}\n          onNewTodo={this.newTodo}\n        />\n        {todos\n          .filter((t) => t.done !== filter)\n          .map((t) => (\n            <Todo\n              key={t.id}\n              text={t.text}\n              done={t.done}\n              onDelete={() =>\n                this.setTodos(\n                  todos.filter((todo) => todo !== t),\n                )\n              }\n              onDone={() => {\n                t.done = true\n                this.forceUpdate()\n              }}\n              onUndone={() => {\n                t.done = false\n                this.forceUpdate()\n              }}\n              onEdit={(text) => {\n                t.text = text\n                this.forceUpdate()\n              }}\n            />\n          ))}\n        {todos.length > 0 && (\n          <Footer\n            itemsLeft={undone.length}\n            onFilter={this.setFilter}\n            onDeleteAll={\n              todos.length === undone.length\n                ? null\n                : this.deleteDone\n            }\n          />\n        )}\n      </div>\n    )\n  }\n}\n","import S from './styles.module.css'\nimport Table from '../Table'\n\nexport default function App() {\n  return (\n    <div className={S.app}>\n      <span className={S.todos}>todos</span>\n      <Table />\n      <span>Double-click to edit a todo</span>\n    </div>\n  )\n}\n","import {StrictMode} from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement,\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styles_app__1qnXu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"styles_app__eLOzb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"done\":\"styles_done__EcV1x\"};"],"sourceRoot":""}